import glob
import collections 
import csv

arr = [] 
chunks = []
sequence = []
outside = []
array = []
waste = []

csvPath= '/home/gokul/Downloads/incubator-singa/examples/lstm/a/b/test_data.csv'


def xls2csv(Path,sep):
    with open(Path,'r') as ins:
        	reader = csv.reader(ins,delimiter=',')
 		for row in reader:
			#2135,2524,2149
			array.append('{:.5f}'.format(float(float(row[0])/2135)));
			array.append('{:.5f}'.format(float(float(row[1])/2524)));
			array.append('{:.5f}'.format(float(float(row[2])/2149)));
		return array;
				
	
def window(size,sequence,step):
	with open('testr1.csv','wb') as csvfile:
		spamwriter = csv.writer(csvfile,delimiter=',',quotechar='|',)
		for i in range(0,15000,step):
			spamwriter.writerow(array[i:size])
			size = size+step

sequence = xls2csv(csvPath,',')
window(30,sequence,3)
